{"version":3,"sources":["button.min.js","button/button.js"],"names":["angular","module","provider","defaults","this","activeClass","toggleEvent","$get","directive","restrict","require","compile","element","attr","removeAttr","children","querySelectorAll","forEach","child","childEl","ngModel","$button","$$rAF","constantValueRegExp","link","scope","controller","options","isInput","nodeName","activeElement","parent","trueValue","isDefined","test","$eval","falseValue","hasExoticValues","$parsers","push","viewValue","$formatters","modelValue","equals","$watch","newValue","oldValue","$render","isActive","$modelValue","checked","toggleClass","bind","$apply","$setViewValue","hasClass","value"],"mappings":"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","file":"button.min.js","sourcesContent":[null,"'use strict';\r\n\r\nangular.module('mgcrea.ngStrap.button', [])\r\n\r\n  .provider('$button', function() {\r\n\r\n    var defaults = this.defaults = {\r\n      activeClass:'active',\r\n      toggleEvent:'click'\r\n    };\r\n\r\n    this.$get = function() {\r\n      return {defaults: defaults};\r\n    };\r\n\r\n  })\r\n\r\n  .directive('bsCheckboxGroup', function() {\r\n\r\n    return {\r\n      restrict: 'A',\r\n      require: 'ngModel',\r\n      compile: function postLink(element, attr) {\r\n        element.attr('data-toggle', 'buttons');\r\n        element.removeAttr('ng-model');\r\n        var children = element[0].querySelectorAll('input[type=\"checkbox\"]');\r\n        angular.forEach(children, function(child) {\r\n          var childEl = angular.element(child);\r\n          childEl.attr('bs-checkbox', '');\r\n          childEl.attr('ng-model', attr.ngModel + '.' + childEl.attr('value'));\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n  })\r\n\r\n  .directive('bsCheckbox', function($button, $$rAF) {\r\n\r\n    var defaults = $button.defaults;\r\n    var constantValueRegExp = /^(true|false|\\d+)$/;\r\n\r\n    return {\r\n      restrict: 'A',\r\n      require: 'ngModel',\r\n      link: function postLink(scope, element, attr, controller) {\r\n\r\n        var options = defaults;\r\n\r\n        // Support label > input[type=\"checkbox\"]\r\n        var isInput = element[0].nodeName === 'INPUT';\r\n        var activeElement = isInput ? element.parent() : element;\r\n\r\n        var trueValue = angular.isDefined(attr.trueValue) ? attr.trueValue : true;\r\n        if(constantValueRegExp.test(attr.trueValue)) {\r\n          trueValue = scope.$eval(attr.trueValue);\r\n        }\r\n        var falseValue = angular.isDefined(attr.falseValue) ? attr.falseValue : false;\r\n        if(constantValueRegExp.test(attr.falseValue)) {\r\n          falseValue = scope.$eval(attr.falseValue);\r\n        }\r\n\r\n        // Parse exotic values\r\n        var hasExoticValues = typeof trueValue !== 'boolean' || typeof falseValue !== 'boolean';\r\n        if(hasExoticValues) {\r\n          controller.$parsers.push(function(viewValue) {\r\n            // console.warn('$parser', element.attr('ng-model'), 'viewValue', viewValue);\r\n            return viewValue ? trueValue : falseValue;\r\n          });\r\n          // modelValue -> $formatters -> viewValue\r\n          controller.$formatters.push(function(modelValue) {\r\n             // console.warn('$formatter(\"%s\"): modelValue=%o (%o)', element.attr('ng-model'), modelValue, typeof modelValue);\r\n             return angular.equals(modelValue, trueValue);\r\n          });\r\n          // Fix rendering for exotic values\r\n          scope.$watch(attr.ngModel, function(newValue, oldValue) {\r\n            controller.$render();\r\n          });\r\n        }\r\n\r\n        // model -> view\r\n        controller.$render = function () {\r\n          // console.warn('$render', element.attr('ng-model'), 'controller.$modelValue', typeof controller.$modelValue, controller.$modelValue, 'controller.$viewValue', typeof controller.$viewValue, controller.$viewValue);\r\n          var isActive = angular.equals(controller.$modelValue, trueValue);\r\n          $$rAF(function() {\r\n            if(isInput) element[0].checked = isActive;\r\n            activeElement.toggleClass(options.activeClass, isActive);\r\n          });\r\n        };\r\n\r\n        // view -> model\r\n        element.bind(options.toggleEvent, function() {\r\n          scope.$apply(function () {\r\n            // console.warn('!click', element.attr('ng-model'), 'controller.$viewValue', typeof controller.$viewValue, controller.$viewValue, 'controller.$modelValue', typeof controller.$modelValue, controller.$modelValue);\r\n            if(!isInput) {\r\n              controller.$setViewValue(!activeElement.hasClass('active'));\r\n            }\r\n            if(!hasExoticValues) {\r\n              controller.$render();\r\n            }\r\n          });\r\n        });\r\n\r\n      }\r\n\r\n    };\r\n\r\n  })\r\n\r\n  .directive('bsRadioGroup', function() {\r\n\r\n    return {\r\n      restrict: 'A',\r\n      require: 'ngModel',\r\n      compile: function postLink(element, attr) {\r\n        element.attr('data-toggle', 'buttons');\r\n        element.removeAttr('ng-model');\r\n        var children = element[0].querySelectorAll('input[type=\"radio\"]');\r\n        angular.forEach(children, function(child) {\r\n          angular.element(child).attr('bs-radio', '');\r\n          angular.element(child).attr('ng-model', attr.ngModel);\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n  })\r\n\r\n  .directive('bsRadio', function($button, $$rAF) {\r\n\r\n    var defaults = $button.defaults;\r\n    var constantValueRegExp = /^(true|false|\\d+)$/;\r\n\r\n    return {\r\n      restrict: 'A',\r\n      require: 'ngModel',\r\n      link: function postLink(scope, element, attr, controller) {\r\n\r\n        var options = defaults;\r\n\r\n        // Support `label > input[type=\"radio\"]` markup\r\n        var isInput = element[0].nodeName === 'INPUT';\r\n        var activeElement = isInput ? element.parent() : element;\r\n\r\n        var value = constantValueRegExp.test(attr.value) ? scope.$eval(attr.value) : attr.value;\r\n\r\n        // model -> view\r\n        controller.$render = function () {\r\n          // console.warn('$render', element.attr('value'), 'controller.$modelValue', typeof controller.$modelValue, controller.$modelValue, 'controller.$viewValue', typeof controller.$viewValue, controller.$viewValue);\r\n          var isActive = angular.equals(controller.$modelValue, value);\r\n          $$rAF(function() {\r\n            if(isInput) element[0].checked = isActive;\r\n            activeElement.toggleClass(options.activeClass, isActive);\r\n          });\r\n        };\r\n\r\n        // view -> model\r\n        element.bind(options.toggleEvent, function() {\r\n          scope.$apply(function () {\r\n            // console.warn('!click', element.attr('value'), 'controller.$viewValue', typeof controller.$viewValue, controller.$viewValue, 'controller.$modelValue', typeof controller.$modelValue, controller.$modelValue);\r\n            controller.$setViewValue(value);\r\n            controller.$render();\r\n          });\r\n        });\r\n\r\n      }\r\n\r\n    };\r\n\r\n  });\r\n"],"sourceRoot":"/source/"}